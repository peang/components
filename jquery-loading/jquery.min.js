/*! peang.ui */!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof module&&module.exports?module.exports=function(root,jQuery){var w;return void 0===jQuery&&("undefined"!=typeof window?(jQuery=require("jquery"),w=window):(jQuery=require("jquery")(root),w=root)),factory(jQuery,w),jQuery}:factory(jQuery,window)}(function($,window,undefined){var Loading=function(element,options){this.element=element,this.settings=$.extend({},Loading.defaults,options),this.settings.fullPage=this.element.is("body"),this.init(),this.settings.start&&this.start()};Loading.defaults={overlay:undefined,zIndex:undefined,message:"Loading...",theme:"light",shownClass:"loading-shown",hiddenClass:"loading-hidden",stoppable:!1,start:!0,onStart:function(loading){loading.overlay.fadeIn(150)},onStop:function(loading){loading.overlay.fadeOut(150)},onClick:function(){}},Loading.setDefaults=function(options){Loading.defaults=$.extend({},Loading.defaults,options)},$.extend(Loading.prototype,{init:function(){this.isActive=!1,this.overlay=this.settings.overlay||this.createOverlay(),this.resize(),this.attachMethodsToExternalEvents(),this.attachOptionsHandlers()},createOverlay:function(){var overlay=$('<div class="loading-overlay loading-theme-'+this.settings.theme+'"><div class="loading-overlay-content">'+this.settings.message+"</div></div>").addClass(this.settings.hiddenClass).hide().appendTo("body"),elementID=this.element.attr("id");return elementID&&overlay.attr("id",elementID+"_loading-overlay"),overlay},attachMethodsToExternalEvents:function(){var self=this;self.element.on("loading.start",function(){self.overlay.removeClass(self.settings.hiddenClass).addClass(self.settings.shownClass)}),self.element.on("loading.stop",function(){self.overlay.removeClass(self.settings.shownClass).addClass(self.settings.hiddenClass)}),self.settings.stoppable&&self.overlay.on("click",function(){self.stop()}),self.overlay.on("click",function(){self.element.trigger("loading.click",self)}),$(window).on("resize",function(){self.resize()}),$(function(){self.resize()})},attachOptionsHandlers:function(){var self=this;self.element.on("loading.start",function(event,loading){self.settings.onStart(loading)}),self.element.on("loading.stop",function(event,loading){self.settings.onStop(loading)}),self.element.on("loading.click",function(event,loading){self.settings.onClick(loading)})},calcZIndex:function(){return this.settings.zIndex!==undefined?this.settings.zIndex:(parseInt(this.element.css("z-index"))||0)+1+this.settings.fullPage},resize:function(){var self=this,element=self.element,totalWidth=element.outerWidth(),totalHeight=element.outerHeight();this.settings.fullPage&&(totalHeight="100%",totalWidth="100%"),this.overlay.css({position:self.settings.fullPage?"fixed":"absolute",zIndex:self.calcZIndex(),top:element.offset().top,left:element.offset().left,width:totalWidth,height:totalHeight})},start:function(){this.isActive=!0,this.element.trigger("loading.start",this)},stop:function(){this.isActive=!1,this.element.trigger("loading.stop",this)},active:function(){return this.isActive},toggle:function(){this.active()?this.stop():this.start()}});var dataAttr="jquery-loading";$.fn.loading=function(options){return this.each(function(){var loading=$.data(this,dataAttr);loading?options===undefined?loading.start():"string"==typeof options?loading[options].apply(loading):$.data(this,dataAttr,loading=new Loading($(this),options)):$.data(this,dataAttr,loading=new Loading($(this),options))})},$.fn.Loading=function(options){var loading=$(this).data(dataAttr);return loading&&options===undefined||$(this).data(dataAttr,loading=new Loading($(this),options)),loading},$.expr[":"].loading=function(element){var loadingObj=$.data(element,dataAttr);return loadingObj?loadingObj.active():!1},$.Loading=Loading});